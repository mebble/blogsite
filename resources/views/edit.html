{% extends "views/base.html" %}

{% block title %}
<title>Edit Post</title>
{% endblock %}

{% block body %}
<div class="mb-4">
    <h1 class="mb-2 text-5xl font-semibold">Hi {{ session.username }}, edit your post here</h1>
    {% if post.published %}
    {% include "views/status-published.html" %}
    {% else %}
    {% include "views/status-draft.html" %}
    {% endif %}
</div>

<form hx-put="/posts/{{post.id}}/{{post.slug}}" class="space-y-2">
    <div>
        <label for="title" class="inline-block mb-2">Title</label>
        <br>
        <input id="title" name="title" type="text" value="{{post.title}}" class="block w-full rounded-md border border-gray-500 py-1.5 pl-2 pr-20 text-gray-900 focus:focus:ring-inset sm:text-sm sm:leading-6">
    </div>
    <div>
        <label for="description" class="inline-block mb-2">Description</label>
        <br>
        <input id="description" name="description" type="text" value="{{post.description}}" class="block w-full rounded-md border border-gray-500 py-1.5 pl-2 pr-20 text-gray-900 focus:focus:ring-inset sm:text-sm sm:leading-6">
    </div>
    <div>
        <label for="contents" class="inline-block mb-2">Contents</label>
        <br>
        <textarea id="contents" name="contents" rows="10" cols="100" class="block w-full rounded-md border border-gray-500 py-1.5 pl-2 pr-20 text-gray-900 focus:focus:ring-inset sm:text-sm sm:leading-6">{{post.contents}}</textarea>
    </div>
    <div>
        <input type="hidden" name="post-id" value="{{post.id}}"></input>
    </div>
    <button type="submit" name="published" value="true" class="bg-indigo-500 text-white px-2 py-1 rounded">Save and publish</button>
    <button type="submit" name="published" value="false" class="bg-indigo-500 text-white px-2 py-1 rounded">Save as draft</button>
</form>
{% endblock %}
